set echo on
spool add_archive.ddl.sql.err
CREATE TABLE APP$ AS SELECT * FROM APP;                                                                                                                                                                                                         
ALTER TABLE APP$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                                  
COMMENT ON TABLE app$ IS 'Historical APP.';                                                                                                                                                                                                     
CREATE TRIGGER APP$APP BEFORE UPDATE OR DELETE ON APP FOR EACH ROW                                                                                                                                                                              
BEGIN INSERT INTO APP$ VALUES(                                                                                                                                                                                                                  
:old.VERSION,                                                                                                                                                                                                                                   
:old.URI,                                                                                                                                                                                                                                       
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END APP$APP;                                                                                                                                                                                                                                    
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER APP$APP;                                                                                                                                                                                                                    
ALTER TRIGGER APP$APP ENABLE;                                                                                                                                                                                                                   
CREATE TABLE ATTR$ AS SELECT * FROM ATTR;                                                                                                                                                                                                       
ALTER TABLE ATTR$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                                 
COMMENT ON TABLE app$ IS 'Historical ATTR.';                                                                                                                                                                                                    
CREATE TRIGGER ATTR$ATTR BEFORE UPDATE OR DELETE ON ATTR FOR EACH ROW                                                                                                                                                                           
BEGIN INSERT INTO ATTR$ VALUES(                                                                                                                                                                                                                 
:old.KEY,                                                                                                                                                                                                                                       
:old.VALUE,                                                                                                                                                                                                                                     
:old.ATTRLSTKEY,                                                                                                                                                                                                                                
:old.TAGKEY,                                                                                                                                                                                                                                    
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END ATTR$ATTR;                                                                                                                                                                                                                                  
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER ATTR$ATTR;                                                                                                                                                                                                                  
ALTER TRIGGER ATTR$ATTR ENABLE;                                                                                                                                                                                                                 
CREATE TABLE ATTRLST$ AS SELECT * FROM ATTRLST;                                                                                                                                                                                                 
ALTER TABLE ATTRLST$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                              
COMMENT ON TABLE app$ IS 'Historical ATTRLST.';                                                                                                                                                                                                 
CREATE TRIGGER ATTRLST$ATTRLST BEFORE UPDATE OR DELETE ON ATTRLST FOR EACH ROW                                                                                                                                                                  
BEGIN INSERT INTO ATTRLST$ VALUES(                                                                                                                                                                                                              
:old.KEY,                                                                                                                                                                                                                                       
:old.NAME,                                                                                                                                                                                                                                      
:old.ELEMKEY,                                                                                                                                                                                                                                   
:old.ATTRTYPEKEY,                                                                                                                                                                                                                               
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END ATTRLST$ATTRLST;                                                                                                                                                                                                                            
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER ATTRLST$ATTRLST;                                                                                                                                                                                                            
ALTER TRIGGER ATTRLST$ATTRLST ENABLE;                                                                                                                                                                                                           
CREATE TABLE ATTRTYPE$ AS SELECT * FROM ATTRTYPE;                                                                                                                                                                                               
ALTER TABLE ATTRTYPE$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                             
COMMENT ON TABLE app$ IS 'Historical ATTRTYPE.';                                                                                                                                                                                                
CREATE TRIGGER ATTRTYPE$ATTRTYPE BEFORE UPDATE OR DELETE ON ATTRTYPE FOR EACH ROW                                                                                                                                                               
BEGIN INSERT INTO ATTRTYPE$ VALUES(                                                                                                                                                                                                             
:old.KEY,                                                                                                                                                                                                                                       
:old.NAME,                                                                                                                                                                                                                                      
:old.DESCRIBE,                                                                                                                                                                                                                                  
:old.MASK,                                                                                                                                                                                                                                      
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END ATTRTYPE$ATTRTYPE;                                                                                                                                                                                                                          
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER ATTRTYPE$ATTRTYPE;                                                                                                                                                                                                          
ALTER TRIGGER ATTRTYPE$ATTRTYPE ENABLE;                                                                                                                                                                                                         
CREATE TABLE CHOICE$ AS SELECT * FROM CHOICE;                                                                                                                                                                                                   
ALTER TABLE CHOICE$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                               
COMMENT ON TABLE app$ IS 'Historical CHOICE.';                                                                                                                                                                                                  
CREATE TRIGGER CHOICE$CHOICE BEFORE UPDATE OR DELETE ON CHOICE FOR EACH ROW                                                                                                                                                                     
BEGIN INSERT INTO CHOICE$ VALUES(                                                                                                                                                                                                               
:old.KEY,                                                                                                                                                                                                                                       
:old.NAME,                                                                                                                                                                                                                                      
:old.DESCRIBE,                                                                                                                                                                                                                                  
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END CHOICE$CHOICE;                                                                                                                                                                                                                              
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER CHOICE$CHOICE;                                                                                                                                                                                                              
ALTER TRIGGER CHOICE$CHOICE ENABLE;                                                                                                                                                                                                             
CREATE TABLE CLASS$ AS SELECT * FROM CLASS;                                                                                                                                                                                                     
ALTER TABLE CLASS$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                                
COMMENT ON TABLE app$ IS 'Historical CLASS.';                                                                                                                                                                                                   
CREATE TRIGGER CLASS$CLASS BEFORE UPDATE OR DELETE ON CLASS FOR EACH ROW                                                                                                                                                                        
BEGIN INSERT INTO CLASS$ VALUES(                                                                                                                                                                                                                
:old.KEY,                                                                                                                                                                                                                                       
:old.ABBRV,                                                                                                                                                                                                                                     
:old.NAME,                                                                                                                                                                                                                                      
:old.DESCRIBE,                                                                                                                                                                                                                                  
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END CLASS$CLASS;                                                                                                                                                                                                                                
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER CLASS$CLASS;                                                                                                                                                                                                                
ALTER TRIGGER CLASS$CLASS ENABLE;                                                                                                                                                                                                               
CREATE TABLE CLEARED$ AS SELECT * FROM CLEARED;                                                                                                                                                                                                 
ALTER TABLE CLEARED$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                              
COMMENT ON TABLE app$ IS 'Historical CLEARED.';                                                                                                                                                                                                 
CREATE TRIGGER CLEARED$CLEARED BEFORE UPDATE OR DELETE ON CLEARED FOR EACH ROW                                                                                                                                                                  
BEGIN INSERT INTO CLEARED$ VALUES(                                                                                                                                                                                                              
:old.CLASSKEY,                                                                                                                                                                                                                                  
:old.CLIENTKEY,                                                                                                                                                                                                                                 
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END CLEARED$CLEARED;                                                                                                                                                                                                                            
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER CLEARED$CLEARED;                                                                                                                                                                                                            
ALTER TRIGGER CLEARED$CLEARED ENABLE;                                                                                                                                                                                                           
CREATE TABLE CLIENT$ AS SELECT * FROM CLIENT;                                                                                                                                                                                                   
ALTER TABLE CLIENT$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                               
COMMENT ON TABLE app$ IS 'Historical CLIENT.';                                                                                                                                                                                                  
CREATE TRIGGER CLIENT$CLIENT BEFORE UPDATE OR DELETE ON CLIENT FOR EACH ROW                                                                                                                                                                     
BEGIN INSERT INTO CLIENT$ VALUES(                                                                                                                                                                                                               
:old.KEY,                                                                                                                                                                                                                                       
:old.NAME,                                                                                                                                                                                                                                      
:old.DESCRIBE,                                                                                                                                                                                                                                  
:old.USERNAME,                                                                                                                                                                                                                                  
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END CLIENT$CLIENT;                                                                                                                                                                                                                              
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER CLIENT$CLIENT;                                                                                                                                                                                                              
ALTER TRIGGER CLIENT$CLIENT ENABLE;                                                                                                                                                                                                             
CREATE TABLE DISALLOWS$ AS SELECT * FROM DISALLOWS;                                                                                                                                                                                             
ALTER TABLE DISALLOWS$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                            
COMMENT ON TABLE app$ IS 'Historical DISALLOWS.';                                                                                                                                                                                               
CREATE TRIGGER DISALLOWS$DISALLOWS BEFORE UPDATE OR DELETE ON DISALLOWS FOR EACH ROW                                                                                                                                                            
BEGIN INSERT INTO DISALLOWS$ VALUES(                                                                                                                                                                                                            
:old.CLASSKEY,                                                                                                                                                                                                                                  
:old.DISALLOWSKEY,                                                                                                                                                                                                                              
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END DISALLOWS$DISALLOWS;                                                                                                                                                                                                                        
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER DISALLOWS$DISALLOWS;                                                                                                                                                                                                        
ALTER TRIGGER DISALLOWS$DISALLOWS ENABLE;                                                                                                                                                                                                       
CREATE TABLE DUTY$ AS SELECT * FROM DUTY;                                                                                                                                                                                                       
ALTER TABLE DUTY$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                                 
COMMENT ON TABLE app$ IS 'Historical DUTY.';                                                                                                                                                                                                    
CREATE TRIGGER DUTY$DUTY BEFORE UPDATE OR DELETE ON DUTY FOR EACH ROW                                                                                                                                                                           
BEGIN INSERT INTO DUTY$ VALUES(                                                                                                                                                                                                                 
:old.CLIENTKEY,                                                                                                                                                                                                                                 
:old.ROLEKEY,                                                                                                                                                                                                                                   
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END DUTY$DUTY;                                                                                                                                                                                                                                  
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER DUTY$DUTY;                                                                                                                                                                                                                  
ALTER TRIGGER DUTY$DUTY ENABLE;                                                                                                                                                                                                                 
CREATE TABLE ELEM$ AS SELECT * FROM ELEM;                                                                                                                                                                                                       
ALTER TABLE ELEM$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                                 
COMMENT ON TABLE app$ IS 'Historical ELEM.';                                                                                                                                                                                                    
CREATE TRIGGER ELEM$ELEM BEFORE UPDATE OR DELETE ON ELEM FOR EACH ROW                                                                                                                                                                           
BEGIN INSERT INTO ELEM$ VALUES(                                                                                                                                                                                                                 
:old.KEY,                                                                                                                                                                                                                                       
:old.NAME,                                                                                                                                                                                                                                      
:old.ELEMHIER,                                                                                                                                                                                                                                  
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END ELEM$ELEM;                                                                                                                                                                                                                                  
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER ELEM$ELEM;                                                                                                                                                                                                                  
ALTER TRIGGER ELEM$ELEM ENABLE;                                                                                                                                                                                                                 
CREATE TABLE ENUM$ AS SELECT * FROM ENUM;                                                                                                                                                                                                       
ALTER TABLE ENUM$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                                 
COMMENT ON TABLE app$ IS 'Historical ENUM.';                                                                                                                                                                                                    
CREATE TRIGGER ENUM$ENUM BEFORE UPDATE OR DELETE ON ENUM FOR EACH ROW                                                                                                                                                                           
BEGIN INSERT INTO ENUM$ VALUES(                                                                                                                                                                                                                 
:old.ATTRTYPEKEY,                                                                                                                                                                                                                               
:old.CHOICEKEY,                                                                                                                                                                                                                                 
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END ENUM$ENUM;                                                                                                                                                                                                                                  
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER ENUM$ENUM;                                                                                                                                                                                                                  
ALTER TRIGGER ENUM$ENUM ENABLE;                                                                                                                                                                                                                 
CREATE TABLE EVENT$ AS SELECT * FROM EVENT;                                                                                                                                                                                                     
ALTER TABLE EVENT$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                                
COMMENT ON TABLE app$ IS 'Historical EVENT.';                                                                                                                                                                                                   
CREATE TRIGGER EVENT$EVENT BEFORE UPDATE OR DELETE ON EVENT FOR EACH ROW                                                                                                                                                                        
BEGIN INSERT INTO EVENT$ VALUES(                                                                                                                                                                                                                
:old.KEY,                                                                                                                                                                                                                                       
:old.NAME,                                                                                                                                                                                                                                      
:old.DESCRIBE,                                                                                                                                                                                                                                  
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END EVENT$EVENT;                                                                                                                                                                                                                                
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER EVENT$EVENT;                                                                                                                                                                                                                
ALTER TRIGGER EVENT$EVENT ENABLE;                                                                                                                                                                                                               
CREATE TABLE FACT$ AS SELECT * FROM FACT;                                                                                                                                                                                                       
ALTER TABLE FACT$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                                 
COMMENT ON TABLE app$ IS 'Historical FACT.';                                                                                                                                                                                                    
CREATE TRIGGER FACT$FACT BEFORE UPDATE OR DELETE ON FACT FOR EACH ROW                                                                                                                                                                           
BEGIN INSERT INTO FACT$ VALUES(                                                                                                                                                                                                                 
:old.TAGKEY,                                                                                                                                                                                                                                    
:old.CLIENTKEY,                                                                                                                                                                                                                                 
:old.EVENTKEY,                                                                                                                                                                                                                                  
:old.STATEKEY,                                                                                                                                                                                                                                  
:old.CLIENTKEYLOCK,                                                                                                                                                                                                                             
:old.CLOCK,                                                                                                                                                                                                                                     
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END FACT$FACT;                                                                                                                                                                                                                                  
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER FACT$FACT;                                                                                                                                                                                                                  
ALTER TRIGGER FACT$FACT ENABLE;                                                                                                                                                                                                                 
CREATE TABLE GATHER$ AS SELECT * FROM GATHER;                                                                                                                                                                                                   
ALTER TABLE GATHER$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                               
COMMENT ON TABLE app$ IS 'Historical GATHER.';                                                                                                                                                                                                  
CREATE TRIGGER GATHER$GATHER BEFORE UPDATE OR DELETE ON GATHER FOR EACH ROW                                                                                                                                                                     
BEGIN INSERT INTO GATHER$ VALUES(                                                                                                                                                                                                               
:old.XPATH,                                                                                                                                                                                                                                     
:old.EVENTKEY,                                                                                                                                                                                                                                  
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END GATHER$GATHER;                                                                                                                                                                                                                              
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER GATHER$GATHER;                                                                                                                                                                                                              
ALTER TRIGGER GATHER$GATHER ENABLE;                                                                                                                                                                                                             
CREATE TABLE HIDE$ AS SELECT * FROM HIDE;                                                                                                                                                                                                       
ALTER TABLE HIDE$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                                 
COMMENT ON TABLE app$ IS 'Historical HIDE.';                                                                                                                                                                                                    
CREATE TRIGGER HIDE$HIDE BEFORE UPDATE OR DELETE ON HIDE FOR EACH ROW                                                                                                                                                                           
BEGIN INSERT INTO HIDE$ VALUES(                                                                                                                                                                                                                 
:old.XPATH,                                                                                                                                                                                                                                     
:old.ROLEKEY,                                                                                                                                                                                                                                   
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END HIDE$HIDE;                                                                                                                                                                                                                                  
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER HIDE$HIDE;                                                                                                                                                                                                                  
ALTER TRIGGER HIDE$HIDE ENABLE;                                                                                                                                                                                                                 
CREATE TABLE IMPLIED$ AS SELECT * FROM IMPLIED;                                                                                                                                                                                                 
ALTER TABLE IMPLIED$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                              
COMMENT ON TABLE app$ IS 'Historical IMPLIED.';                                                                                                                                                                                                 
CREATE TRIGGER IMPLIED$IMPLIED BEFORE UPDATE OR DELETE ON IMPLIED FOR EACH ROW                                                                                                                                                                  
BEGIN INSERT INTO IMPLIED$ VALUES(                                                                                                                                                                                                              
:old.CLASSKEY,                                                                                                                                                                                                                                  
:old.IMPLIEDKEY,                                                                                                                                                                                                                                
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END IMPLIED$IMPLIED;                                                                                                                                                                                                                            
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER IMPLIED$IMPLIED;                                                                                                                                                                                                            
ALTER TRIGGER IMPLIED$IMPLIED ENABLE;                                                                                                                                                                                                           
CREATE TABLE MARKING$ AS SELECT * FROM MARKING;                                                                                                                                                                                                 
ALTER TABLE MARKING$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                              
COMMENT ON TABLE app$ IS 'Historical MARKING.';                                                                                                                                                                                                 
CREATE TRIGGER MARKING$MARKING BEFORE UPDATE OR DELETE ON MARKING FOR EACH ROW                                                                                                                                                                  
BEGIN INSERT INTO MARKING$ VALUES(                                                                                                                                                                                                              
:old.CLASSKEY,                                                                                                                                                                                                                                  
:old.TAGKEY,                                                                                                                                                                                                                                    
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END MARKING$MARKING;                                                                                                                                                                                                                            
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER MARKING$MARKING;                                                                                                                                                                                                            
ALTER TRIGGER MARKING$MARKING ENABLE;                                                                                                                                                                                                           
CREATE TABLE PERM$ AS SELECT * FROM PERM;                                                                                                                                                                                                       
ALTER TABLE PERM$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                                 
COMMENT ON TABLE app$ IS 'Historical PERM.';                                                                                                                                                                                                    
CREATE TRIGGER PERM$PERM BEFORE UPDATE OR DELETE ON PERM FOR EACH ROW                                                                                                                                                                           
BEGIN INSERT INTO PERM$ VALUES(                                                                                                                                                                                                                 
:old.EVENTKEY,                                                                                                                                                                                                                                  
:old.ROLEKEY,                                                                                                                                                                                                                                   
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END PERM$PERM;                                                                                                                                                                                                                                  
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER PERM$PERM;                                                                                                                                                                                                                  
ALTER TRIGGER PERM$PERM ENABLE;                                                                                                                                                                                                                 
CREATE TABLE READONLY$ AS SELECT * FROM READONLY;                                                                                                                                                                                               
ALTER TABLE READONLY$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                             
COMMENT ON TABLE app$ IS 'Historical READONLY.';                                                                                                                                                                                                
CREATE TRIGGER READONLY$READONLY BEFORE UPDATE OR DELETE ON READONLY FOR EACH ROW                                                                                                                                                               
BEGIN INSERT INTO READONLY$ VALUES(                                                                                                                                                                                                             
:old.XPATH,                                                                                                                                                                                                                                     
:old.ROLEKEY,                                                                                                                                                                                                                                   
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END READONLY$READONLY;                                                                                                                                                                                                                          
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER READONLY$READONLY;                                                                                                                                                                                                          
ALTER TRIGGER READONLY$READONLY ENABLE;                                                                                                                                                                                                         
CREATE TABLE REQUIRED$ AS SELECT * FROM REQUIRED;                                                                                                                                                                                               
ALTER TABLE REQUIRED$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                             
COMMENT ON TABLE app$ IS 'Historical REQUIRED.';                                                                                                                                                                                                
CREATE TRIGGER REQUIRED$REQUIRED BEFORE UPDATE OR DELETE ON REQUIRED FOR EACH ROW                                                                                                                                                               
BEGIN INSERT INTO REQUIRED$ VALUES(                                                                                                                                                                                                             
:old.CLASSKEY,                                                                                                                                                                                                                                  
:old.REQUIREDKEY,                                                                                                                                                                                                                               
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END REQUIRED$REQUIRED;                                                                                                                                                                                                                          
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER REQUIRED$REQUIRED;                                                                                                                                                                                                          
ALTER TRIGGER REQUIRED$REQUIRED ENABLE;                                                                                                                                                                                                         
CREATE TABLE ROLE$ AS SELECT * FROM ROLE;                                                                                                                                                                                                       
ALTER TABLE ROLE$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                                 
COMMENT ON TABLE app$ IS 'Historical ROLE.';                                                                                                                                                                                                    
CREATE TRIGGER ROLE$ROLE BEFORE UPDATE OR DELETE ON ROLE FOR EACH ROW                                                                                                                                                                           
BEGIN INSERT INTO ROLE$ VALUES(                                                                                                                                                                                                                 
:old.KEY,                                                                                                                                                                                                                                       
:old.NAME,                                                                                                                                                                                                                                      
:old.DESCRIBE,                                                                                                                                                                                                                                  
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END ROLE$ROLE;                                                                                                                                                                                                                                  
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER ROLE$ROLE;                                                                                                                                                                                                                  
ALTER TRIGGER ROLE$ROLE ENABLE;                                                                                                                                                                                                                 
CREATE TABLE STATE$ AS SELECT * FROM STATE;                                                                                                                                                                                                     
ALTER TABLE STATE$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                                
COMMENT ON TABLE app$ IS 'Historical STATE.';                                                                                                                                                                                                   
CREATE TRIGGER STATE$STATE BEFORE UPDATE OR DELETE ON STATE FOR EACH ROW                                                                                                                                                                        
BEGIN INSERT INTO STATE$ VALUES(                                                                                                                                                                                                                
:old.KEY,                                                                                                                                                                                                                                       
:old.NAME,                                                                                                                                                                                                                                      
:old.DESCRIBE,                                                                                                                                                                                                                                  
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END STATE$STATE;                                                                                                                                                                                                                                
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER STATE$STATE;                                                                                                                                                                                                                
ALTER TRIGGER STATE$STATE ENABLE;                                                                                                                                                                                                               
CREATE TABLE SUBSCRIBE$ AS SELECT * FROM SUBSCRIBE;                                                                                                                                                                                             
ALTER TABLE SUBSCRIBE$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                            
COMMENT ON TABLE app$ IS 'Historical SUBSCRIBE.';                                                                                                                                                                                               
CREATE TRIGGER SUBSCRIBE$SUBSCRIBE BEFORE UPDATE OR DELETE ON SUBSCRIBE FOR EACH ROW                                                                                                                                                            
BEGIN INSERT INTO SUBSCRIBE$ VALUES(                                                                                                                                                                                                            
:old.CLIENTKEY,                                                                                                                                                                                                                                 
:old.EVENTKEY,                                                                                                                                                                                                                                  
:old.PUSHURL,                                                                                                                                                                                                                                   
:old.XSLURLOUT,                                                                                                                                                                                                                                 
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END SUBSCRIBE$SUBSCRIBE;                                                                                                                                                                                                                        
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER SUBSCRIBE$SUBSCRIBE;                                                                                                                                                                                                        
ALTER TRIGGER SUBSCRIBE$SUBSCRIBE ENABLE;                                                                                                                                                                                                       
CREATE TABLE SWITCH$ AS SELECT * FROM SWITCH;                                                                                                                                                                                                   
ALTER TABLE SWITCH$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                               
COMMENT ON TABLE app$ IS 'Historical SWITCH.';                                                                                                                                                                                                  
CREATE TRIGGER SWITCH$SWITCH BEFORE UPDATE OR DELETE ON SWITCH FOR EACH ROW                                                                                                                                                                     
BEGIN INSERT INTO SWITCH$ VALUES(                                                                                                                                                                                                               
:old.EVENTKEY,                                                                                                                                                                                                                                  
:old.STATEKEY,                                                                                                                                                                                                                                  
:old.STATEKEYNEXT,                                                                                                                                                                                                                              
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END SWITCH$SWITCH;                                                                                                                                                                                                                              
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER SWITCH$SWITCH;                                                                                                                                                                                                              
ALTER TRIGGER SWITCH$SWITCH ENABLE;                                                                                                                                                                                                             
CREATE TABLE TAG$ AS SELECT * FROM TAG;                                                                                                                                                                                                         
ALTER TABLE TAG$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                                  
COMMENT ON TABLE app$ IS 'Historical TAG.';                                                                                                                                                                                                     
CREATE TRIGGER TAG$TAG BEFORE UPDATE OR DELETE ON TAG FOR EACH ROW                                                                                                                                                                              
BEGIN INSERT INTO TAG$ VALUES(                                                                                                                                                                                                                  
:old.KEY,                                                                                                                                                                                                                                       
:old.VALUE,                                                                                                                                                                                                                                     
:old.ELEMKEY,                                                                                                                                                                                                                                   
:old.TAGHIER,                                                                                                                                                                                                                                   
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END TAG$TAG;                                                                                                                                                                                                                                    
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER TAG$TAG;                                                                                                                                                                                                                    
ALTER TRIGGER TAG$TAG ENABLE;                                                                                                                                                                                                                   
CREATE TABLE TRANSLATE$ AS SELECT * FROM TRANSLATE;                                                                                                                                                                                             
ALTER TABLE TRANSLATE$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                            
COMMENT ON TABLE app$ IS 'Historical TRANSLATE.';                                                                                                                                                                                               
CREATE TRIGGER TRANSLATE$TRANSLATE BEFORE UPDATE OR DELETE ON TRANSLATE FOR EACH ROW                                                                                                                                                            
BEGIN INSERT INTO TRANSLATE$ VALUES(                                                                                                                                                                                                            
:old.CLIENTKEY,                                                                                                                                                                                                                                 
:old.EVENTKEY,                                                                                                                                                                                                                                  
:old.XSLURLIN,                                                                                                                                                                                                                                  
:old.XSLURLOUT,                                                                                                                                                                                                                                 
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END TRANSLATE$TRANSLATE;                                                                                                                                                                                                                        
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER TRANSLATE$TRANSLATE;                                                                                                                                                                                                        
ALTER TRIGGER TRANSLATE$TRANSLATE ENABLE;                                                                                                                                                                                                       
CREATE TABLE TRUMPS$ AS SELECT * FROM TRUMPS;                                                                                                                                                                                                   
ALTER TABLE TRUMPS$ ADD audit_archived TIMESTAMP;                                                                                                                                                                                               
COMMENT ON TABLE app$ IS 'Historical TRUMPS.';                                                                                                                                                                                                  
CREATE TRIGGER TRUMPS$TRUMPS BEFORE UPDATE OR DELETE ON TRUMPS FOR EACH ROW                                                                                                                                                                     
BEGIN INSERT INTO TRUMPS$ VALUES(                                                                                                                                                                                                               
:old.CLASSKEY,                                                                                                                                                                                                                                  
:old.TRUMPSKEY,                                                                                                                                                                                                                                 
:old.AUDIT_USER,                                                                                                                                                                                                                                
:old.AUDIT_CLIENT,                                                                                                                                                                                                                              
:old.AUDIT_EDITED,                                                                                                                                                                                                                              
CURRENT_TIMESTAMP);                                                                                                                                                                                                                             
END TRUMPS$TRUMPS;                                                                                                                                                                                                                              
/                                                                                                                                                                                                                                               
SHOW ERRORS TRIGGER TRUMPS$TRUMPS;                                                                                                                                                                                                              
ALTER TRIGGER TRUMPS$TRUMPS ENABLE;                                                                                                                                                                                                             
spool off
